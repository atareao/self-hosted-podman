[Unit]
Description=Servidor Nginx de ejemplo para web
After=traefik.service

[Container]
Image=docker.io/library/nginx:alpine
ContainerName=nginx-web
Network=proxy.network

# Etiquetas para que Traefik haga su magia
PodmanArgs=--label "traefik.enable=true" \
           --label "traefik.http.routers.nginx-web.rule=Host(`web.{{ env.FQDN }}`)" \
           --label "traefik.http.routers.nginx-web.entrypoints=websecure" \
           --label "traefik.http.routers.nginx-web.tls.certresolver=myresolver" \
           --label "traefik.http.routers.nginx-web.middlewares=seguridadHeaders@file,compresionHeaders@file" \
           --label "traefik.http.services.nginx-web.loadbalancer.server.port=80"

[Service]
Restart=always

[Install]
WantedBy=default.target
